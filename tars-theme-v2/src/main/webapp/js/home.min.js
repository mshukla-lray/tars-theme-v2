function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var btnObject;function submitWidget(){if(console.log("Widget Submit Start - btnObject = "+btnObject),"subscriptionFormBtn"!=btnObject.attr("id")){var n=btnObject.data("form"),r=btnObject.data("results"),e=btnObject.data("url"),s=btnObject.data("spinner"),t=$("#widgets-hidden-captcha-btn").data("widget-id");console.log("captchaWidgetId = "+t);var i=!1;if($("#"+n+" input").each(function(){""==$(this).val()||"checkExpiryForm"!==n&&$(this).val().length<$(this).attr("maxlength")?(console.log("Empty or invalid field"),$(this).addClass("widget-form-error"),$("#"+n).find(".invalid-feedback").css("display","block"),i=!0):($(this).removeClass("widget-form-error"),$("#"+n).find(".invalid-feedback").hide())}),i)grecaptcha.reset(t);else if(""!=grecaptcha.getResponse(t)){$("#captchaResponse").val(grecaptcha.getResponse(t));var a=$("#widgetsSearchForm").serialize();$("."+s).removeClass("hide"),$.ajax({type:"POST",data:a,url:e,crossDomain:!0,success:function(e){$("."+s+", #"+n).addClass("hide"),$("#"+r).html(e),$("#"+r).removeClass("hide").fadeIn(1e3),grecaptcha.reset(t),$("#captchaResponse").val("")},error:function(e,t,i){$("."+s+", #"+n).addClass("hide"),$("#"+r).html("Something went wrong !!"),$("#"+r).removeClass("hide").fadeIn(1e3)}}),console.log("Widget Submit End")}else console.log("Empty reposne")}else validateSubscForm()}function stopfinder(e,r,t){var i="";i+="&languageVal=ar,en&KeyedValue="+encodeURIComponent(e),$("#journeyError").html(""),$("#journeyError").hide();var n=$(t).data("url");$.ajax({type:"POST",data:i,url:n,crossDomain:!0,success:function(e){if(r.length=0,null!=e&&""!=e){var t=JSON.parse(e);if(void 0!==t.stopFinder.points.point){ptsArry=t.stopFinder.points.point,-1!=(n=ptsArry.name).indexOf("POINAME")&&(n=n.split(","),ptsArry.name=n[1]),r.push({value:ptsArry.name,stateless:ptsArry.stateless,coord:ptsArry.ref.coords})}else{ptsArry=t.stopFinder.points;for(var i=0;i<ptsArry.length;i++){var n;-1!=(n=ptsArry[i].name).indexOf("POINAME")&&(n=n.split(","),ptsArry[i].name=n[1]),r.push({value:ptsArry[i].name,stateless:ptsArry[i].stateless,coord:ptsArry[i].ref.coords})}}}},complete:function(){$(t).focus()},error:function(e,t){}})}$(function(){new(function(){function e(){_classCallCheck(this,e),this.servicesCarousel(),this.leadBannerCarousel(),$(document).on("click",".hsocial-tabs li",this.matchHeight),$(document).on("click",".hsocial-tabs li:nth-child(2) a",this.twitterFetcher),$(document).on("click","[data-BGColorTrigger]",this.servicesBGColorTrigger),$(document).on("click",".newsletterToggle",this.newsletterToggle),$("#newsletterForm").submit(this.newsletterFormValidate)}function t(){return i.apply(this,arguments)}var i;return _createClass(e,[{key:"twitterFetcher",value:(i=function(){$("#twitterFetcher > ul").length||(console.log("Fetch tweets"),twitterFetcher.fetch({profile:{screenName:"RTA_Dubai"},domId:"twitterFetcher",maxTweets:3,enableLinks:!0,showUser:!0,showTime:!0,showImages:!0,lang:"en",showRetweet:!1}));var t=!1,i=setInterval(function(){$("#twitterFetcher > ul").addClass("swiper-wrapper"),$("#twitterFetcher > ul > li").addClass("swiper-slide"),new Swiper("#twitterFetcher",{slidesPerView:1,draggable:!0,pagination:".swiper-controls.twitter .swiper-pagination",paginationType:"fraction",nextButton:".swiper-controls.twitter .swiper-button-next",prevButton:".swiper-controls.twitter .swiper-button-prev",onInit:function(e){$(".matchHeight").matchHeight();var t=$('#twitterFetcher .swiper-slide:first-of-type .user [data-scribe="element:name"]').text();$("#twitterFetcher .user img").attr("alt",t)},breakpoints:{960:{slidesPerView:2.5,spaceBetween:20},640:{slidesPerView:1.1,spaceBetween:15}}}),$("#twitterFetcher > ul").length&&(t=!0);var e=$(".twitter-feed").find(".tweet a");$(e).each(function(){"element:url"==$(this).data("scribe")&&("ar"==$("html").attr("lang")?$(this).html("<span>المزيد</span>"):$(this).html("<span>Learn More</span>"))}),t&&clearInterval(i),t=!0},900)},t.toString=function(){return i.toString()},t)},{key:"matchHeight",value:function(){$(".matchHeight").matchHeight()}},{key:"newsletterFormValidate",value:function(){var e=$("[name=newsletter-name]"),t=$("[name=newsletter-email]"),i=$("[name=newsletter-sms]");$("#newsletterForm .error-msg").addClass("invisible");var n=!0;if(""==e.val()&&(e.next().removeClass("invisible"),n=!1),""==t.val()&&t.is(":visible")&&(t.next().removeClass("invisible"),n=!1),""==i.val()&&i.is(":visible")&&(i.next().removeClass("invisible"),n=!1),!n)return!1}},{key:"servicesCarousel",value:function(){new Swiper("#servicesSwiper",{slidesPerView:3,draggable:!0,spaceBetween:30,breakpoints:{960:{slidesPerView:2.5,spaceBetween:20},640:{slidesPerView:1.2,spaceBetween:15}}})}},{key:"leadBannerCarousel",value:function(){new Swiper("#leadBannerSwiper",{slidesPerView:1,draggable:!0,nextButton:"#leadBannerSwiper .button-next",prevButton:"#leadBannerSwiper .button-prev"})}},{key:"servicesBGColorTrigger",value:function(){var e=$(this).attr("data-BGColorTrigger"),t=$(".servicesBGColor");t.removeClass("purple blue skyblue"),t.addClass(e)}},{key:"newsletterToggle",value:function(){$(this).parents(".newsletter").toggleClass("is-open")}}]),e}())}),$(function(){var e=function(){function e(){_classCallCheck(this,e),$(document).on("click",".openHwidget",this.openWidget),$(document).on("click",".closeHwidget",this.closeWidget)}return _createClass(e,[{key:"openWidget",value:function(e){var t=$(this),i=".hwidget__item",n="hwidget__results",r="hwidget__form";$(".hwidget__inner").find("[tabindex=0]").attr("tabindex","-1"),t.closest(i).find("[tabindex=-1]").attr("tabindex","0"),setTimeout(function(){$("#".concat(r,", .").concat(r)).removeClass("hide"),$("#".concat(n,", .").concat(n)).addClass("hide")},1e3),t.hasClass("is-open")||($(i).removeClass("is-open"),t.parents(i).removeClass("is-collapse").addClass("is-open"),$("".concat(i,"--journey")).hasClass("is-open")?$("".concat(i,"--vehicle")).addClass("is-collapse"):$("".concat(i,"--vehicle")).removeClass("is-collapse"))}},{key:"closeWidget",value:function(){var e=$(this),t=".hwidget__item";e.closest(".hwidget__inner").find("[tabindex=0]").attr("tabindex","-1"),e.parents(t).removeClass("is-open"),$("".concat(t,"--vehicle")).removeClass("is-collapse")}}]),e}();$(".widget-submit").click(function(){btnObject=$(this),$("#widgets-hidden-captcha-btn").trigger("click")}),new e}),$(document).ready(function(){var e=[],t=[];$(".hwidget__inner .form-control").keyup(function(e){13==e.keyCode&&$(this).closest(".hwidget__inner").find(".widget-submit").trigger("click")}),$("#fromLocation").on("keyup",function(){$("#originHidden").attr("value",""),$("#originCoordsHidden").attr("value",""),3<=$(this).val().length&&stopfinder($(this).val(),e,this)}),$("#toLocation").on("keyup",function(){$("#destHidden").attr("value",""),$("#destCoordsHidden").attr("value",""),3<=$(this).val().length&&stopfinder($(this).val(),t,this)}),$(".autocomplete-origin").autocomplete({lookup:e,minChars:3,deferRequestBy:70,onSelect:function(e){$("#originHidden").attr("value",e.stateless),$("#originCoordsHidden").attr("value",e.coord)}}),$(".autocomplete-destination").autocomplete({lookup:t,minChars:3,deferRequestBy:70,onSelect:function(e){$("#destHidden").attr("value",e.stateless),$("#destCoordsHidden").attr("value",e.coord)}}),$(".hwidget__form .n-form-control").keypress(function(e){var t=String.fromCharCode(e.which);if("tel"==$(this).attr("type")&&!t.match(/[0-9]/))return!1})});